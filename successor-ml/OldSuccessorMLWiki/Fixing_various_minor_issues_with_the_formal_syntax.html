
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>


<script type="text/javascript" src="/static/js/analytics.js"></script>
<script type="text/javascript">archive_analytics.values.server_name="wwwb-app1.us.archive.org";archive_analytics.values.server_ms=161;</script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>


		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15.1" />
		<meta name="keywords" content="Fixing various minor issues with the formal syntax,Fixing various minor issues with the formal semantics" />
		<link rel="shortcut icon" href="/web/20120730115319im_/http://successor-ml.org/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="Successor ML (en)" />
		<link rel="alternate" type="application/rss+xml" title="Successor ML RSS Feed" href="/index.php?title=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="Successor ML Atom Feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom" />
		<title>Fixing various minor issues with the formal syntax - Successor ML</title>
		<link rel="stylesheet" href="styles/shared.css" type="text/css" media="screen" />
		<link rel="stylesheet" href="styles/commonPrint.css" type="text/css" media="print" />
		<link rel="stylesheet" href="styles/main.css" type="text/css" media="screen" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE50Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE55Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="/skins/monobook/IE60Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="/skins/monobook/IE70Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="/web/20120730115319cs_/http://successor-ml.org/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" />
		<link rel="stylesheet" href="/web/20120730115319cs_/http://successor-ml.org/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" media="print" />
		<link rel="stylesheet" href="/web/20120730115319cs_/http://successor-ml.org/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" />
		<link rel="stylesheet" href="/web/20120730115319cs_/http://successor-ml.org/index.php?title=-&amp;action=raw&amp;maxage=18000&amp;gen=css" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?207"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/skins";
		var wgArticlePath = "/index.php?title=$1";
		var wgScriptPath = "";
		var wgScript = "/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "/web/20120730115319/http://successor-ml.org";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Fixing_various_minor_issues_with_the_formal_syntax";
		var wgTitle = "Fixing various minor issues with the formal syntax";
		var wgAction = "view";
		var wgArticleId = "1326";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 1439;
		var wgVersion = "1.15.1";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="/web/20120730115319js_/http://successor-ml.org/skins/common/wikibits.js?207"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/web/20120730115319js_/http://successor-ml.org/skins/common/ajax.js?207"></script>
		<script type="text/javascript" src="/web/20120730115319js_/http://successor-ml.org/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Fixing_various_minor_issues_with_the_formal_syntax skin-monobook">


	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">Fixing various minor issues with the formal syntax</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Successor ML</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1"><a href="#Motivation"><span class="tocnumber">2</span> <span class="toctext">Motivation</span></a></li>
<li class="toclevel-1"><a href="#Assumptions"><span class="tocnumber">3</span> <span class="toctext">Assumptions</span></a></li>
<li class="toclevel-1"><a href="#Syntax"><span class="tocnumber">4</span> <span class="toctext">Syntax</span></a></li>
<li class="toclevel-1"><a href="#Static_Semantics"><span class="tocnumber">5</span> <span class="toctext">Static Semantics</span></a></li>
<li class="toclevel-1"><a href="#Dynamic_Semantics"><span class="tocnumber">6</span> <span class="toctext">Dynamic Semantics</span></a></li>
<li class="toclevel-1"><a href="#Interactions"><span class="tocnumber">7</span> <span class="toctext">Interactions</span></a></li>
<li class="toclevel-1"><a href="#Compatibility"><span class="tocnumber">8</span> <span class="toctext">Compatibility</span></a></li>
<li class="toclevel-1"><a href="#Implementation"><span class="tocnumber">9</span> <span class="toctext">Implementation</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Introduction" id="Introduction"></a><h4> <span class="mw-headline"> Introduction </span></h4>
<p>We propose clarifications to resolve existing ambiguities in the syntax.
</p>
<a name="Motivation" id="Motivation"></a><h4> <span class="mw-headline"> Motivation </span></h4>
<p>The syntax specification in the Definition is somewhat sloppy, leaving a number of ambiguities and minor issues. We provide the boring details to resolve the relevant ones. Mostly, these just blesses existing practice in SML implementations. We motivate the individual changes below (for details about the issues, see <a href="http://www.mpi-sws.org/~rossberg/sml-defects.html" class="external text" title="http://www.mpi-sws.org/~rossberg/sml-defects.html" rel="nofollow">Defects in the Revised Definition of Standard ML</a>).
</p>
<a name="Assumptions" id="Assumptions"></a><h4> <span class="mw-headline"> Assumptions </span></h4>
<p>None.
</p>
<a name="Syntax" id="Syntax"></a><h4> <span class="mw-headline"> Syntax </span></h4>
<p>Defined by the following modifications to the Definition:
</p>
<ul><li> In Section 2.2, the paragraph defining formatting characters, add carriage return and vertical tab to the list of non-printable characters included.
</li></ul>
<dl><dd> (Needed for portability to major operating systems, where at least CR is mandatory in text files.)
</dd></dl>
<ul><li> In Section 2.6, 1st paragraph, extend the sentence starting with "The only required use of op..." by inserting the following before the semicolon:
</li></ul>
<pre>   [...] in an expression or pattern;
</pre>
<dl><dd> (Clarifies where "op" is really needed: only in expressions and patterns.)
</dd></dl>
<ul><li> In Section 2.9, add the following bullet:
</li></ul>
<pre>   Any tyvar occurring on the right side of a typbind or datbind of the
   form "tyvarseq tycon = ..." must occur in tyvarseq.
</pre>
<dl><dd> (Fixes an oversight actually producing a soundness bug - cf. <a class="page-link" href="Fixing_various_minor_issues_with_the_formal_semantics.html" title="Fixing various minor issues with the formal semantics">Fixing various minor issues with the formal semantics</a>.)
</dd></dl>
<ul><li> In Section 3.4, Figure 6, add the following:
</li></ul>
<pre>   Restriction: A declaration dec appearing in a structure declaration may not be
   a sequential or local declaration.
</pre>
<dl><dd> (Disambiguates parsing of sequential and local declarations in structures or on top-level: they must be parsed as structure declarations.)
</dd></dl>
<ul><li> In Figure 7, add the following:
</li></ul>
<pre>   Restriction: In a sequential specification, spec_2 may not contain a sharing specification.
</pre>
<dl><dd> (Disambiguates scoping of sharing specification: they must take the largest possible scope.)
</dd></dl>
<ul><li> In Figure 8, extend the restriction with the following sentence:
</li></ul>
<pre>   Furthermore, the strdec may not be a sequential declaration strdec_1&lt;;&gt;strdec_2.
</pre>
<dl><dd> (Disambiguates parsing of sequential structure declarations on top-level: they must be parsed as top-level declarations.)
</dd></dl>
<ul><li> In Section 8, Programs, extend the comment on rule 187:
</li></ul>
<pre>   [...], except for possible fixity directives contained in the topdec.
</pre>
<dl><dd> (Clarifies that the fixity environment has changed even after failed elaboration.)
</dd></dl>
<ul><li> In Appendix A, Figure 17, add respective indices 1..m to the ty annotations appearing on both sides of the definition of the function value binding form.
</li></ul>
<dl><dd> (Changes syntax to what is actually intended and can reasonably be parsed.)
</dd></dl>
<ul><li> In Appendix B, extend the first sentence as follows:
</li></ul>
<pre>   [...], together with the derived form of Figure 18 in Appendix A.
</pre>
<dl><dd> (Corrects incorrect/inconsistent statement.)
</dd></dl>
<ul><li> In Appendix B, add the following to the third paragraph:
</li></ul>
<pre>   The same applies to patterns, where the extra classes AppPat and InfPat are introduced,
   yielding
   
      AtPat &lt; AppPat &lt; InfPat &lt; Pat
</pre>
<dl><dd> (Together with the change to Figure 22, disambiguates precedence for patterns, analogous to expressions.)
</dd></dl>
<ul><li> In Appendix B, third bullet, replace the paragraph starting with "Note particularly that..." with:
</li></ul>
<pre>   Note that the use of precedence does not prevent a phrase, which is an instance of
   a form with higher precedence, having a constitutent which is an instance of a form
   with lower precendence, as long as they can be resolved unambiguously. Thus for example
   
      if ... then while ... do ... else while ... do ...
   
   is quite admissible and parses as
   
      if ... then (while ... do ...) else (while ... do ...)
   
   However, precedence rules out phrases which cannot be disambiguated without
   violating precedence, such as
   
      a andalso if b then c else d orelse e
</pre>
<dl><dd> (Corrects inconsistent and impractical requirements for parsing.)
</dd></dl>
<ul><li> In Figure 21, in the production for fvalbind, add indices 1..m to the optional ty annotations. Furthermore, add the following:
</li></ul>
<pre>   Restriction: The expressions exp_1,...,exp_m-1 in a fvalbind may not terminate in a match.
</pre>
<dl><dd> (Blesses the way parsing of "fun" has been implemented by everybody.)
</dd></dl>
<ul><li> In Figure 22, replace the productions for pat with the following:
</li></ul>
<pre>   apppat&nbsp;::= atpat               
              &lt;op&gt;longvid atpat       constructed value
   
   infpat&nbsp;::= apppat              
              infpat1 vid infpat2     constructed value (infix)
   
   pat   &nbsp;::= infpat
              pat&nbsp;: ty                typed
              &lt;op&gt;vid &lt;: ty&gt; as pat   layered
</pre>
<dl><dd> (Disambiguates precedence in patterns, see above.)
</dd></dl>
<a name="Static_Semantics" id="Static_Semantics"></a><h4> <span class="mw-headline"> Static Semantics </span></h4>
<p>Unaffected.
</p>
<a name="Dynamic_Semantics" id="Dynamic_Semantics"></a><h4> <span class="mw-headline"> Dynamic Semantics </span></h4>
<p>Unaffected.
</p>
<a name="Interactions" id="Interactions"></a><h4> <span class="mw-headline"> Interactions </span></h4>
<p>None.
</p>
<a name="Compatibility" id="Compatibility"></a><h4> <span class="mw-headline"> Compatibility </span></h4>
<p>These are merely fixes, they do not change the language beyond resolving ambiguities. The only exception is the restriction on nesting matches in a fvalbind, which is what all SML systems implement anyway.
</p>
<a name="Implementation" id="Implementation"></a><h4> <span class="mw-headline"> Implementation </span></h4>
<p>Implementations realise these or similar fixes already.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 10/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key sml_wiki:pcache:idhash:1326-0!1!0!!en!2!edit=0 and timestamp 20120730011029 -->
<div class="printfooter">
Retrieved from "<a class="page-link" href="Fixing_various_minor_issues_with_the_formal_syntax.html">http://successor-ml.org/index.php?title=Fixing_various_minor_issues_with_the_formal_syntax</a>"</div>
						<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a class="page-link" href="Fixing_various_minor_issues_with_the_formal_syntax.html" title="View the content page [c]" accesskey="c">Page</a></li>
				 <li id="ca-talk" class="new"><a href="/web/20120730115319/http://successor-ml.org/index.php?title=Talk:Fixing_various_minor_issues_with_the_formal_syntax&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-viewsource"><a href="/web/20120730115319/http://successor-ml.org/index.php?title=Fixing_various_minor_issues_with_the_formal_syntax&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				 <li id="ca-history"><a href="/web/20120730115319/http://successor-ml.org/index.php?title=Fixing_various_minor_issues_with_the_formal_syntax&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/web/20120730115319/http://successor-ml.org/index.php?title=Special:UserLogin&amp;returnto=Fixing_various_minor_issues_with_the_formal_syntax" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/web/20120730115319im_/http://successor-ml.org/skins/common/images/wiki.png);" href="Successor_ML.html" title="Visit the main page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a class="page-link" href="Successor_ML.html" title="Visit the main page">Main Page</a></li>
				<li id="n-portal"><a class="page-link" href="Successor_ML_Community_Portal.html" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-currentevents"><a class="page-link" href="Successor_ML_Current_events.html" title="Find background information on current events">Current events</a></li>
				<li id="n-recentchanges"><a class="page-link" href="Special:RecentChanges.html" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a class="page-link" href="Special:Random.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
				<li id="n-help"><a class="page-link" href="Help:Contents.html" title="The place to find out">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/web/20120730115319/http://successor-ml.org/index.php" id="searchform"><div>
				<input type='hidden' name="title" value="Special:Search"/>
				<input id="searchInput" name="search" type="text" title="Search Successor ML [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a class="page-link" href="Special:WhatLinksHere/Fixing_various_minor_issues_with_the_formal_syntax.html" title="List of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a class="page-link" href="Special:RecentChangesLinked/Fixing_various_minor_issues_with_the_formal_syntax.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a class="page-link" href="Special:SpecialPages.html" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="/web/20120730115319/http://successor-ml.org/index.php?title=Fixing_various_minor_issues_with_the_formal_syntax&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="/web/20120730115319/http://successor-ml.org/index.php?title=Fixing_various_minor_issues_with_the_formal_syntax&amp;oldid=1439" title="Permanent link to this revision of the page">Permanent link</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on 27 November 2005, at 14:58.</li>
					<li id="viewcount">This page has been accessed 2,714 times.</li>
					<li id="privacy"><a class="page-link" href="Successor_ML_Privacy_policy.html" title="Successor ML:Privacy policy">Privacy policy</a></li>
					<li id="about"><a class="page-link" href="Successor_ML_About.html" title="Successor ML:About">About Successor ML</a></li>
					<li id="disclaimer"><a class="page-link" href="Successor_ML_General_disclaimer.html" title="Successor ML:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.770 secs. --></body></html>





<!--
     FILE ARCHIVED ON 11:53:19 Jul 30, 2012 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 14:35:33 Jul 30, 2015.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
