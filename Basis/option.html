<!-- HTML/option.html -->

<!-- COPYRIGHT (c) 1997 Bell Labs, Lucent Technologies. -->

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<TITLE>The Option structure</TITLE>
<META NAME=generator CONTENT="ML-Doc::html-gen">
</HEAD>
<BODY BGCOLOR="#FFFFFF"><A NAME="top"></A>
<H1 align=CENTER>The Standard ML Basis Library</H1>
<HR>


<H2><A NAME="section:0"></A>The <CODE>Option</CODE> structure</H2>
<HR>
<H4>Synopsis</H4>
<BLOCKQUOTE>
<CODE><B>signature</B>&nbsp;<A NAME="OPTION:SIG:SPEC"></A><CODE>OPTION</CODE><BR>
<B>structure</B>&nbsp;<A NAME="Option:STR:SPEC"></A><CODE>Option</CODE><B> :> </B>OPTION<BR>
</CODE>
</BLOCKQUOTE>
<P>
The <CODE>Option</CODE> structure defines the <CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">option</A></CODE> type, used for handling partial functions and optional values, and provides a collection of common combinators.
<P>
The type, the <CODE>Option</CODE> exception, and the functions <CODE>getOpt</CODE>, <CODE>valOf</CODE>, and <CODE>isSome</CODE> are available in the top-level environment. 
<HR>
<H4>Interface</H4>
<BLOCKQUOTE>
<CODE><B>datatype</B>&nbsp;<I>'a</I>&nbsp;<A NAME="SIG:OPTION.option:TY:SPEC" HREF="#SIG:OPTION.option:TY">option</A>&nbsp;=&nbsp;<A NAME="SIG:OPTION.NONE:TY:SPEC" HREF="#SIG:OPTION.NONE:TY">NONE</A>&nbsp;|&nbsp;<A NAME="SIG:OPTION.SOME:TY:SPEC" HREF="#SIG:OPTION.SOME:TY">SOME</A>&nbsp;<B>of</B>&nbsp;<I>'a</I><BR>
<B>exception</B>&nbsp;<A NAME="SIG:OPTION.Option:EXN:SPEC" HREF="#SIG:OPTION.Option:EXN">Option</A><BR>
<B>val</B>&nbsp;<A NAME="SIG:OPTION.getOpt:VAL:SPEC" HREF="#SIG:OPTION.getOpt:VAL">getOpt</A>&nbsp;<B>:</B>&nbsp;<I>'a</I>&nbsp;option&nbsp;<B>*</B>&nbsp;<I>'a</I>&nbsp;<B>-&gt;</B>&nbsp;<I>'a</I><BR>
<B>val</B>&nbsp;<A NAME="SIG:OPTION.isSome:VAL:SPEC" HREF="#SIG:OPTION.isSome:VAL">isSome</A>&nbsp;<B>:</B>&nbsp;<I>'a</I>&nbsp;option&nbsp;<B>-&gt;</B>&nbsp;bool<BR>
<B>val</B>&nbsp;<A NAME="SIG:OPTION.valOf:VAL:SPEC" HREF="#SIG:OPTION.valOf:VAL">valOf</A>&nbsp;<B>:</B>&nbsp;<I>'a</I>&nbsp;option&nbsp;<B>-&gt;</B>&nbsp;<I>'a</I><BR>
<B>val</B>&nbsp;<A NAME="SIG:OPTION.filter:VAL:SPEC" HREF="#SIG:OPTION.filter:VAL">filter</A>&nbsp;<B>:</B>&nbsp;(<I>'a</I>&nbsp;<B>-&gt;</B>&nbsp;bool)&nbsp;<B>-&gt;</B>&nbsp;<I>'a</I>&nbsp;<B>-&gt;</B>&nbsp;<I>'a</I>&nbsp;option<BR>
<B>val</B>&nbsp;<A NAME="SIG:OPTION.join:VAL:SPEC" HREF="#SIG:OPTION.join:VAL">join</A>&nbsp;<B>:</B>&nbsp;<I>'a</I>&nbsp;option&nbsp;option&nbsp;<B>-&gt;</B>&nbsp;<I>'a</I>&nbsp;option<BR>
<B>val</B>&nbsp;<A NAME="SIG:OPTION.app:VAL:SPEC" HREF="#SIG:OPTION.app:VAL">app</A>&nbsp;<B>:</B>&nbsp;(<I>'a</I>&nbsp;<B>-&gt;</B>&nbsp;unit)&nbsp;<B>-&gt;</B>&nbsp;<I>'a</I>&nbsp;option&nbsp;<B>-&gt;</B>&nbsp;unit<BR>
<B>val</B>&nbsp;<A NAME="SIG:OPTION.map:VAL:SPEC" HREF="#SIG:OPTION.map:VAL">map</A>&nbsp;<B>:</B>&nbsp;(<I>'a</I>&nbsp;<B>-&gt;</B>&nbsp;<I>'b</I>)&nbsp;<B>-&gt;</B>&nbsp;<I>'a</I>&nbsp;option&nbsp;<B>-&gt;</B>&nbsp;<I>'b</I>&nbsp;option<BR>
<B>val</B>&nbsp;<A NAME="SIG:OPTION.mapPartial:VAL:SPEC" HREF="#SIG:OPTION.mapPartial:VAL">mapPartial</A>&nbsp;<B>:</B>&nbsp;(<I>'a</I>&nbsp;<B>-&gt;</B>&nbsp;<I>'b</I>&nbsp;option)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>-&gt;</B>&nbsp;<I>'a</I>&nbsp;option&nbsp;<B>-&gt;</B>&nbsp;<I>'b</I>&nbsp;option<BR>
<B>val</B>&nbsp;<A NAME="SIG:OPTION.compose:VAL:SPEC" HREF="#SIG:OPTION.compose:VAL">compose</A>&nbsp;<B>:</B>&nbsp;(<I>'a</I>&nbsp;<B>-&gt;</B>&nbsp;<I>'b</I>)&nbsp;<B>*</B>&nbsp;(<I>'c</I>&nbsp;<B>-&gt;</B>&nbsp;<I>'a</I>&nbsp;option)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>-&gt;</B>&nbsp;<I>'c</I>&nbsp;<B>-&gt;</B>&nbsp;<I>'b</I>&nbsp;option<BR>
<B>val</B>&nbsp;<A NAME="SIG:OPTION.composePartial:VAL:SPEC" HREF="#SIG:OPTION.composePartial:VAL">composePartial</A>&nbsp;<B>:</B>&nbsp;(<I>'a</I>&nbsp;<B>-&gt;</B>&nbsp;<I>'b</I>&nbsp;option)&nbsp;<B>*</B>&nbsp;(<I>'c</I>&nbsp;<B>-&gt;</B>&nbsp;<I>'a</I>&nbsp;option)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>-&gt;</B>&nbsp;<I>'c</I>&nbsp;<B>-&gt;</B>&nbsp;<I>'b</I>&nbsp;option</CODE>
</BLOCKQUOTE>
<H4>Description</H4>
<DL>
<DT> <A NAME="SIG:OPTION.option:TY"></A><CODE><B>datatype</B>&nbsp;<I>'a</I>&nbsp;option&nbsp;=&nbsp;NONE&nbsp;|&nbsp;SOME&nbsp;<B>of</B>&nbsp;<I>'a</I></CODE>
<DD>
       The type <CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">option</A></CODE> provides a distinction between some value and no value, and is often used for representing the result of partially defined functions. It can be viewed as a typed version of the C convention of returning a <CODE>NULL</CODE> pointer to indicate no value. 
<BR>
<BR>

<DT> <A NAME="SIG:OPTION.getOpt:VAL"></A>
<DT> <CODE>getOpt (<VAR>opt</VAR>, <VAR>a</VAR>) </CODE>
<DD>
returns <CODE>v</CODE> if <VAR>opt</VAR> is <CODE><CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">SOME</A></CODE>(v)</CODE>; otherwise it returns <VAR>a</VAR>. 
<BR>
<BR>

<DT> <A NAME="SIG:OPTION.isSome:VAL"></A>
<DT> <CODE>isSome <VAR>opt</VAR> </CODE>
<DD>
returns <CODE>true</CODE> if <VAR>opt</VAR> is <CODE><CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">SOME</A></CODE>(v)</CODE>; otherwise it returns <CODE>false</CODE>. 
<BR>
<BR>

<DT> <A NAME="SIG:OPTION.valOf:VAL"></A>
<DT> <CODE>valOf <VAR>opt</VAR> </CODE>
<DD>
returns <CODE>v</CODE> if <VAR>opt</VAR> is <CODE><CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">SOME</A></CODE>(v)</CODE>; otherwise it raises the <CODE><A HREF="option.html#SIG:OPTION.Option:EXN:SPEC">Option</A></CODE> exception. 
<BR>
<BR>

<DT> <A NAME="SIG:OPTION.filter:VAL"></A>
<DT> <CODE>filter <VAR>f</VAR> <VAR>a</VAR> </CODE>
<DD>
returns <CODE><CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">SOME</A></CODE>(<VAR>a</VAR>)</CODE> if <VAR>f(a)</VAR> is <CODE>true</CODE> and <CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">NONE</A></CODE> otherwise. 
<BR>
<BR>

<DT> <A NAME="SIG:OPTION.join:VAL"></A><CODE><B>val</B>&nbsp;join&nbsp;<B>:</B>&nbsp;<I>'a</I>&nbsp;option&nbsp;option&nbsp;<B>-&gt;</B>&nbsp;<I>'a</I>&nbsp;option</CODE>
<DD>
          The <CODE><A HREF="option.html#SIG:OPTION.join:VAL:SPEC">join</A></CODE> function maps <CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">NONE</A></CODE> to <CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">NONE</A></CODE> and <CODE><CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">SOME</A></CODE>(v)</CODE> to <CODE>v</CODE>. 
<BR>
<BR>

<DT> <A NAME="SIG:OPTION.app:VAL"></A>
<DT> <CODE>app <VAR>f</VAR> <VAR>opt</VAR>  </CODE>
<DD>
applies the function <VAR>f</VAR> to the value <CODE>v</CODE> if <VAR>opt</VAR>  is <CODE><CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">SOME</A></CODE>(v)</CODE>, and otherwise does nothing. 
<BR>
<BR>

<DT> <A NAME="SIG:OPTION.map:VAL"></A>
<DT> <CODE>map <VAR>f</VAR> <VAR>opt</VAR> </CODE>
<DD>
maps <CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">NONE</A></CODE> to <CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">NONE</A></CODE> and <CODE>SOME(v)</CODE> to  <CODE><CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">SOME</A></CODE>(<VAR>f</VAR> v)</CODE>. 
<BR>
<BR>

<DT> <A NAME="SIG:OPTION.mapPartial:VAL"></A>
<DT> <CODE>mapPartial <VAR>f</VAR> <VAR>opt</VAR> </CODE>
<DD>
maps <CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">NONE</A></CODE> to <CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">NONE</A></CODE> and <CODE>SOME(v)</CODE> to <CODE><VAR>f</VAR>(v)</CODE>. The expression <CODE>mapPartial <VAR>f</VAR></CODE> is equivalent to <CODE>join o (map <VAR>f</VAR>)</CODE>. 
<BR>
<BR>

<DT> <A NAME="SIG:OPTION.compose:VAL"></A>
<DT> <CODE>compose (<VAR>f</VAR>, <VAR>g</VAR>) <VAR>a</VAR> </CODE>
<DD>
returns <CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">NONE</A></CODE> if <CODE><VAR>g</VAR>(<VAR>a</VAR>)</CODE> is <CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">NONE</A></CODE>; otherwise, if <CODE><VAR>g</VAR>(<VAR>a</VAR>)</CODE> is <CODE><CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">SOME</A></CODE>(v)</CODE>, it returns <CODE><CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">SOME</A></CODE>(<VAR>f</VAR> v)</CODE>. Thus, the <CODE>compose</CODE> function composes <VAR>f</VAR> with the partial function <VAR>g</VAR> to produce another partial function. The expression <CODE>compose (<VAR>f</VAR>, <VAR>g</VAR>)</CODE> is equivalent to <CODE>(map <VAR>f</VAR>) o <VAR>g</VAR></CODE>. 
<BR>
<BR>

<DT> <A NAME="SIG:OPTION.composePartial:VAL"></A>
<DT> <CODE>composePartial (<VAR>f</VAR>, <VAR>g</VAR>) <VAR>a</VAR> </CODE>
<DD>
returns <CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">NONE</A></CODE> if <CODE><VAR>g</VAR>(<VAR>a</VAR>)</CODE> is <CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">NONE</A></CODE>; otherwise, if <CODE><VAR>g</VAR>(<VAR>a</VAR>)</CODE> is <CODE><CODE><A HREF="option.html#SIG:OPTION.option:TY:SPEC">SOME</A></CODE>(v)</CODE>, it returns <CODE><VAR>f</VAR>(v)</CODE>. Thus, the <CODE>composePartial</CODE> function composes the two partial functions <VAR>f</VAR> and <VAR>g</VAR> to produce another partial function. The expression <CODE>composePartial (<VAR>f</VAR>, <VAR>g</VAR>)</CODE> is equivalent to <CODE>(mapPartial <VAR>f</VAR>) o <VAR>g</VAR></CODE>.
<BR>
<BR>

</DL>


<HR>
<CENTER>
<B>[ <A HREF="#top">Top</A>
   | <A HREF="manpages.html">Parent</A>
   | <A HREF="toc.html">Contents</A>
   | <A HREF="index-all.html">Index</A>
   | <A HREF="index.html">Root</A>
   ]</B>
</CENTER>
<P>
<I>Generated April 12, 2004</I><BR>
<I>Last Modified January 22, 1997</I><BR>
<I>Comments to <A HREF="http://www.cs.uchicago.edu/people/jhr">John Reppy.</A></I><BR>

<HR>
<P>

This document may be distributed freely over the internet as long as the
copyright notice and license terms below are prominently displayed within
every machine-readable copy.  

<P>

<TABLE ALIGN=CENTER WIDTH="80%" BORDER="2" CELLPADDING="5">
<TR>
<TD>
<P>

Copyright &copy; 2004 AT&amp;T and Lucent Technologies.
All rights reserved.

<P>

Permission is granted for internet users to make one paper copy for their
own personal use.  Further hardcopy reproduction is strictly prohibited. 
Permission to distribute the HTML document electronically on any medium
other than the internet must be requested from the copyright holders by
contacting the editors.
Printed versions of the SML Basis Manual are available from Cambridge
University Press.
To order, please visit
<A HREF="http://www.cup.org">www.cup.org</A> (North America) or
<A HREF="http://www.cup.cam.ac.uk">www.cup.cam.ac.uk</A> (outside North America).<BR>

</TABLE>
<P>

<HR>
</BODY></HTML>
